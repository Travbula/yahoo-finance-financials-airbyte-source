# Readme

## Prerequisites

The dbt code in this project depends on source tables generated by airbyte with the [source-yahoo-finance-financials](https://github.com/Travbula/yahoo-finance-warehouse/tree/main/source-yahoo-finance-financials) and [source-yahoo-finance-price](https://github.com/airbytehq/airbyte/tree/master/airbyte-integrations/connectors/source-yahoo-finance-price) API connectors. See [src_yahoo_financials.yml](https://github.com/Travbula/yahoo-finance-warehouse/blob/main/dbt-model/models/stage/src_yahoo_financials.yml) for naming of the source tables.

## Installation

### Python requirements

Create a virtual environment

`python3 -m venv .venv`

Activate environment

`. .venv/bin/activate`

Install requirements

`python -m pip install -r requirements.txt`

### Database configuration

Make sure your `profiles.yml` file is set up to match the database configuration of your warehouse. There is an example `profiles.yml` file in this project you can use with

`dbt debug --profiles-dir=.`

when you are in this folder. This should work with the configuration in `database/docker-compose.yml`, although you might have to create the `analytics` schema first.

### dbt dependencies

Install dbt dependencies

`dbt deps`
